<article class="message is-danger" *ngIf="(this.loaded && this.partido == null) || this.notFound == true">
  <div class="message-header">
    <p>Partido no encontrado</p>
  </div>
  <div class="message-body">
    El partido solicitado no se encontr√≥. Tal vez fue borrado previamente...
  </div>
</article>

<div *ngIf="!this.loaded"><progress class="progress is-large is-info" max="100">25%</progress></div>
<div *ngIf="this.loaded">
	<div *ngIf="this.partido != null">

		<div class="columns">
			<div class="column is-one-third">
				<div class="card">
					<header class="card-content" *ngIf="this.lugar">
						<strong>{{ lugar.nombre }}</strong>, <a target="_blank" href="https://www.google.com/maps/search/?api=1&query={{ lugar.direccion }},+Santa+Fe,+Santa+Fe,+Argentina">{{ lugar.direccion }}</a>
					</header>
					<header class="card-content" *ngIf="!this.lugar">
						<progress class="progress is-small" max="100">15%</progress>
					</header>
					<footer class="card-footer" style="padding:20px 15px">
						<strong>Fecha y hora</strong>: {{ partido.fecha.seconds * 1000 | date:'dd-MM-yyyy HH:mm' }}
					</footer>
				</div>
				<div *ngIf="this.getCurrentUserId() == this.partido.owner" class="has-text-right" style="padding:20px 0">
					<button class="button is-danger is-small" (click)="deletePartido()">
						<span class="icon is-small">
							<i class="fas fa-times"></i>
						</span>
						<span>{{ messageDelete }}</span>
					</button>
				</div>
			</div>
			<div class="column">
				<form #aForm="ngForm" [formGroup]="addPlayer" (ngSubmit)="addJugador(aForm)">
					<div class="table-container">
						<table class="table is-fullwidth is-hoverable">
							<thead>
								<tr>
									<th class="has-text-right">#</th>
									<th>Jugadores</th>
									<th>Fecha y hora</th>
								</tr>
							</thead>
							<tbody>
								<tr *ngFor="let jugador of partido.jugadores; let row = index">
									<td class="has-text-right">{{ row + 1 }}</td>
									<td>{{ jugador.nombre }}</td>
									<td>{{ jugador.fecha.seconds * 1000 | date:'dd-MM-yyyy HH:mm' }}</td>
								</tr>
							</tbody>
						</table>
					</div>

					<div class="field has-addons" *ngIf="getCurrentUserId() && canAddPlayer()">
						<div class="control is-expanded">
							<input formControlName="nuevoJugador" class="input" type="text" placeholder="Agregar jugador...">
						</div>
						<div class="control">
							<button class="button is-info" type="submit" [disabled]="!addPlayer.valid">Agregar</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
